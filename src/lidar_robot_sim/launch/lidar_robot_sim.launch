<launch>
  	<!-- Stage simulator -->
  	<node pkg="stage_ros" type="stageros" name="stageros" args="$(find lidar_robot_sim)/worlds/simple_world.world">
    	<remap from="base_scan" to="scan"/>
  	</node>
  	
  	<!-- Map Server -->
	<arg name="map_file" default="$(find lidar_robot_sim)/maps/map.yaml"/>
	<node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" />


  	<!-- RViz -->
  	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find lidar_robot_sim)/rviz/lidar_robot_sim.rviz" />

  	<node pkg="lidar_robot_sim" type="laserscan_to_pointcloud" name="laserscan_to_pointcloud" output="screen" />
  
  	<!-- include file="$(find lidar_robot_sim)/launch/map_server.launch" / -->
	<node pkg="lidar_robot_sim" type="distance_map_generator" name="distance_map_generator" output="screen" />
	
	<!-- Static Transform Publisher -->
	<node pkg="tf2_ros" type="static_transform_publisher" name="map_to_odom" args="0 0 0 0 0 0 map odom"/>
	
	<!-- Teleop Twist Keyboard -->
	<node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop_twist_keyboard" output="screen">
    	<param name="scale_linear" value="0.5" />
    	<param name="scale_angular" value="1.0" />
    	<remap from="cmd_vel" to="/cmd_vel" />
	</node>

</launch>
